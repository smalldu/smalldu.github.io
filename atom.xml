<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Small Du çš„æŠ€æœ¯blog</title>
  <subtitle>åšåŠ›æ‰€èƒ½åŠçš„äº‹å„¿</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-08-16T13:25:56.690Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Small Du</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>RxSwift(äºŒ) åˆ›å»ºå¹¶è®¢é˜…Observables</title>
    <link href="http://yoursite.com/2016/08/16/RxSwift-%E4%BA%8C-%E5%88%9B%E5%BB%BA%E5%B9%B6%E8%AE%A2%E9%98%85Observables/"/>
    <id>http://yoursite.com/2016/08/16/RxSwift-äºŒ-åˆ›å»ºå¹¶è®¢é˜…Observables/</id>
    <published>2016-08-16T08:56:48.000Z</published>
    <updated>2016-08-16T13:25:56.690Z</updated>
    
    <content type="html"><![CDATA[<hr>
<blockquote>
<p>æœ¬æ–‡å¤§å¤šæ•°å†…å®¹æ¥è‡ªRxSwifté¡¹ç›®ä¸­çš„<em>Rx.playground</em> , ä¸ªäººå­¦ä¹ è®°å½• ã€‚ä»…ä¾›å‚è€ƒï¼Œæœ‰ä»»ä½•é”™è¯¯ï¼Œè¯·åŠæ—¶æŒ‡å‡ºã€‚</p>
</blockquote>
<p>æœ‰è®¸å¤šåˆ›å»º <code>Observable</code> sequence ï¼ˆä¿¡å·æºåºåˆ—ï¼‰çš„æ–¹å¼ , æœ¬æ–‡å­¦ä¹ æ‰‹åŠ¨åˆ›å»ºï¼Œå®é™…åº”ç”¨ä¸­ä¼šæ—¶å€™RxCocoaå¸®æˆ‘ä»¬åˆ›å»ºå¥½çš„ï¼Œä¾‹å¦‚ä¸€ä¸ª<code>UILabel</code> ä¼šæœ‰ä¸€ä¸ª<br><code>rx_text</code> å±æ€§ è¿”å›ä¸€ä¸ª <code>Observable</code> å¯¹è±¡ ï¼Œè¿™ä¸ªå®ä¾‹çš„æ—¶å€™å†çœ‹ã€‚</p>
<blockquote>
<p><code>Observable</code>ç›¸å½“äºä¸€ä¸ªè¢«è§‚å¯Ÿçš„å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶åºåˆ—ï¼Œè®¢é˜…è€…å¯ä»¥è®¢é˜…ä»–æ£€æµ‹äº‹ä»¶(Next \ Complete \ Error)<br><a id="more"></a></p>
<h4 id="never"><a href="#never" class="headerlink" title="never"></a>never</h4></blockquote>
<p>åˆ›å»ºä¸€ä¸ªæ°¸è¿œä¸ä¼šç»ˆæ­¢ï¼Œä¹Ÿä¸ä¼šå‘å‡ºä»»ä½•äº‹ä»¶çš„sequence </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">let</span> neverSequence = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.never()</div><div class="line">&lt;!-- more --&gt;</div><div class="line"><span class="keyword">let</span> neverSequenceSubscription = neverSequence.subscribe &#123; <span class="number">_</span> <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"æ°¸è¿œä¸ä¼šæ‰§è¡Œ"</span>)</div><div class="line">&#125;</div><div class="line">neverSequenceSubscription.addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<h4 id="empty"><a href="#empty" class="headerlink" title="empty"></a>empty</h4><p>åˆ›å»ºä¸€ä¸ªåªèƒ½æ‰§è¡ŒCompleteäº‹ä»¶çš„ç©º<code>Observable</code> sequence ã€‚<br><!-- more --><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.empty()</div><div class="line">    .subscribe &#123; (event) <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œä¸Šé¢ä»£ç ä¼šæ‰“å°å‡ºCompleted</p>
<h4 id="just"><a href="#just" class="headerlink" title="just"></a>just</h4><p>åˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªå…ƒç´ çš„<code>Observable</code> sequence </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.just(<span class="string">"æˆ‘æ˜¯å”¯ä¸€çš„å…ƒç´ "</span>)</div><div class="line">    .subscribe &#123; (event) <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Next(æˆ‘æ˜¯å”¯ä¸€çš„å…ƒç´ )</div><div class="line">Completed</div></pre></td></tr></table></figure></p>
<h4 id="of"><a href="#of" class="headerlink" title="of"></a>of</h4><p>åˆ›å»ºä¸€ä¸ªæœ‰å›ºå®šå…ƒç´ ä¸ªæ•°çš„<code>Observable</code> seqence</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.of(<span class="string">"å°çŒ«"</span>,<span class="string">"ğŸ¶"</span>,<span class="string">"ğŸŒ²"</span>,<span class="string">"ğŸ"</span>,<span class="string">"ğŸ±"</span>)</div><div class="line">    .subscribeNext&#123; element <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(element)</div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">å°çŒ«</div><div class="line">ğŸ¶</div><div class="line">ğŸŒ²</div><div class="line">ğŸ</div><div class="line">ğŸ±</div></pre></td></tr></table></figure></p>
<blockquote>
<p>è¿™ä¸ªç¤ºä¾‹ä»‹ç»äº†<code>subscribeNext(_:)</code>ç”¨æ³•ï¼Œä¸åƒ<code>subscribe(_:)</code> è¿”å›ä¸€ä¸ªäº‹ä»¶ç±»å‹çš„å‚æ•°ï¼ˆNext, Error, and Completedï¼‰ã€‚<br><code>subscribeNext(_:)</code> ä¼šå¿½ç•¥ Error å’Œ Complete åªæ‹¿Nextäº‹ä»¶çš„å…ƒç´  ã€‚ä¸Šé¢çš„elementå°±æ˜¯ä¸€ä¸ªString ï¼Œ å½“ç„¶ä¹Ÿæœ‰<code>subscribeError(_:)</code>å’Œ<br><code>subscribeCompleted(_:)</code> æ–¹æ³•ã€‚è¿˜æœ‰ä¸€ä¸ª<code>subscribe(onNext:onError:onCompleted:onDisposed:)</code>æ–¹æ³•å…è®¸ä½ å–åˆ°æ›´å¤šçš„äº‹ä»¶ç±»å‹è¾¾åˆ°ä½ çš„ç›®çš„ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.of(<span class="string">"å°çŒ«"</span>,<span class="string">"ğŸ¶"</span>,<span class="string">"ğŸŒ²"</span>,<span class="string">"ğŸ"</span>,<span class="string">"ğŸ±"</span>).subscribe(</div><div class="line">                onNext: &#123; <span class="built_in">print</span>(<span class="string">"Element : <span class="subst">\($<span class="number">0</span>)</span>"</span>) &#125;,</div><div class="line">                onError: &#123; <span class="built_in">print</span>(<span class="string">"Error : <span class="subst">\($<span class="number">0</span>)</span>"</span>) &#125;,</div><div class="line">                onCompleted: &#123; <span class="built_in">print</span>(<span class="string">"Completed"</span>) &#125;,</div><div class="line">                onDisposed: &#123; <span class="built_in">print</span>(<span class="string">"Disposed"</span>) &#125;</div><div class="line">            )</div></pre></td></tr></table></figure></p>
<h4 id="toObservable"><a href="#toObservable" class="headerlink" title="toObservable"></a>toObservable</h4><p>ä½¿ç”¨<code>SequenceType</code>ç±»å‹åˆ›å»ºä¸€ä¸ª <code>Observable</code> sequence , ä¾‹å¦‚æ•°ç»„ã€å­—å…¸ã€Set</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[&quot;ğŸ¶&quot;, &quot;ğŸ±&quot;, &quot;ğŸ­&quot;, &quot;ğŸ¹&quot;].toObservable()</div><div class="line">            .subscribeNext &#123; print($0) &#125;</div><div class="line">            .addDisposableTo(DisposeBag())</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœ:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ğŸ¶</div><div class="line">ğŸ±</div><div class="line">ğŸ­</div><div class="line">ğŸ¹</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæ˜¯å°†æ•°ç»„çš„å…ƒç´ ä¸€ä¸ªä¸€ä¸ªè¾“å‡ºçš„ã€‚</p>
<h4 id="create"><a href="#create" class="headerlink" title="create"></a>create</h4><p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„<code>Observable</code>sequence</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">let</span> myJust = &#123; (element:<span class="type">String</span>) -&gt; <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> <span class="type">Observable</span>.create(&#123; observer -&gt; <span class="type">Disposable</span> <span class="keyword">in</span></div><div class="line">        observer.on(.<span class="type">Next</span>(element))</div><div class="line">        observer.on(.<span class="type">Completed</span>)</div><div class="line">        <span class="keyword">return</span> <span class="type">NopDisposable</span>.instance</div><div class="line">    &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line">myJust(<span class="string">"ğŸ"</span>).subscribe&#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>è¿™é‡Œç©¿ä»¶äº†ä¸€ä¸ªmyJustçš„é—­åŒ…ï¼Œä¼ å…¥ <code>String</code> è¿”å› <code>Observable</code> , åœ¨åˆ›å»ºæ–¹æ³•é‡Œ æˆ‘ä»¬è°ƒç”¨äº† Next å’Œ Completeæ–¹æ³•ã€‚<br>ç„¶åæˆ‘ä»¬å¯¹æˆ‘ä»¬çš„å¯¹è±¡æ·»åŠ äº†è§‚å¯Ÿè€…ã€‚</p>
<h4 id="range"><a href="#range" class="headerlink" title="range"></a>range</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.range(start: <span class="number">1</span>, <span class="built_in">count</span>: <span class="number">5</span>)</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Next(1)</div><div class="line">Next(2)</div><div class="line">Next(3)</div><div class="line">Next(4)</div><div class="line">Next(5)</div><div class="line">Completed</div></pre></td></tr></table></figure></p>
<h4 id="repeatElement"><a href="#repeatElement" class="headerlink" title="repeatElement"></a>repeatElement</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.repeatElement(<span class="string">"ğŸ”´"</span>)</div><div class="line">    .take(<span class="number">3</span>)</div><div class="line">    .subscribeNext &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>ç»“æœï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ğŸ”´</div><div class="line">ğŸ”´</div><div class="line">ğŸ”´</div></pre></td></tr></table></figure></p>
<p>è¿™å—ä½¿ç”¨takeæŒ‡å®šæ¬¡æ•°ã€‚</p>
<h4 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h4><p>åˆ©ç”¨è¿­ä»£å™¨åˆ›å»ºä¸€ä¸ª<code>Observable</code> sequence åªæœ‰æ¡ä»¶æ˜¯trueæ‰æ‰§è¡Œ</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()    </div><div class="line"><span class="type">Observable</span>.generate(</div><div class="line">    initialState: <span class="number">0</span>,</div><div class="line">    condition: &#123; $<span class="number">0</span> &lt; <span class="number">3</span> &#125;,</div><div class="line">    iterate: &#123; $<span class="number">0</span> + <span class="number">1</span> &#125;</div><div class="line">    )</div><div class="line">    .subscribeNext &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>è¾“å‡º 0,1,2</p>
<h4 id="deferred"><a href="#deferred" class="headerlink" title="deferred"></a>deferred</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">1</span></div><div class="line"><span class="keyword">let</span> deferredSequence = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.deferred &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Creating <span class="subst">\(<span class="built_in">count</span>)</span>"</span>)</div><div class="line">    <span class="built_in">count</span> += <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> <span class="type">Observable</span>.create &#123; observer <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"æ­£åœ¨è°ƒç”¨..."</span>)</div><div class="line">        observer.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">        observer.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">        observer.onNext(<span class="string">"ğŸµ"</span>)</div><div class="line">        <span class="keyword">return</span> <span class="type">NopDisposable</span>.instance</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">deferredSequence</div><div class="line">    .subscribeNext &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">deferredSequence</div><div class="line">    .subscribeNext &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Creating 1</div><div class="line">æ­£åœ¨è°ƒç”¨...</div><div class="line">ğŸ¶</div><div class="line">ğŸ±</div><div class="line">ğŸµ</div><div class="line">Creating 2</div><div class="line">æ­£åœ¨è°ƒç”¨...</div><div class="line">ğŸ¶</div><div class="line">ğŸ±</div><div class="line">ğŸµ</div></pre></td></tr></table></figure>
<h4 id="error"><a href="#error" class="headerlink" title="error"></a>error</h4><p>åˆ›å»ºä¸€ä¸ªç›´æ¥è¿”å›é”™è¯¯çš„<code>Observable</code>sequence</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.error(<span class="type">Error</span>.<span class="type">Test</span>)</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>è¾“å‡º<code>Error(Test)</code><br>è¿™é‡Œè‡ªå®šä¹‰äº†ä¸€ä¸ªç»§æ‰¿è‡ª<code>ErrorType</code>çš„<code>Error</code>ç±»å‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public enum Error : ErrorType &#123;</div><div class="line">    case Test</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="doOn"><a href="#doOn" class="headerlink" title="doOn"></a>doOn</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ"</span>, <span class="string">"ğŸ"</span>, <span class="string">"ğŸŠ"</span>, <span class="string">"ğŸ‹"</span>)</div><div class="line">    .doOn &#123; <span class="built_in">print</span>(<span class="string">"Intercepted:"</span>, $<span class="number">0</span>) &#125;</div><div class="line">    .subscribeNext &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>è¿™é‡Œ <code>doOn</code> å’Œ <code>subscribe</code> ä¼ å…¥å‚æ•°å’Œè¿”å›å€¼ä¸€æ ·åªæ˜¯ <code>doOn</code> ä¼šå°†å¼‚å¸¸throwså‡ºå»</p>
<blockquote>
<p>ç³»ç»Ÿä¹Ÿæä¾›äº†<code>doOnNext(_:)</code>, <code>doOnError(_:)</code>, <code>doOnCompleted(_:)</code>è¿™äº›æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå½“ç„¶è¿˜æœ‰<code>doOn(onNext:onError:onCompleted:)</code></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡å¤§å¤šæ•°å†…å®¹æ¥è‡ªRxSwifté¡¹ç›®ä¸­çš„&lt;em&gt;Rx.playground&lt;/em&gt; , ä¸ªäººå­¦ä¹ è®°å½• ã€‚ä»…ä¾›å‚è€ƒï¼Œæœ‰ä»»ä½•é”™è¯¯ï¼Œè¯·åŠæ—¶æŒ‡å‡ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰è®¸å¤šåˆ›å»º &lt;code&gt;Observable&lt;/code&gt; sequence ï¼ˆä¿¡å·æºåºåˆ—ï¼‰çš„æ–¹å¼ , æœ¬æ–‡å­¦ä¹ æ‰‹åŠ¨åˆ›å»ºï¼Œå®é™…åº”ç”¨ä¸­ä¼šæ—¶å€™RxCocoaå¸®æˆ‘ä»¬åˆ›å»ºå¥½çš„ï¼Œä¾‹å¦‚ä¸€ä¸ª&lt;code&gt;UILabel&lt;/code&gt; ä¼šæœ‰ä¸€ä¸ª&lt;br&gt;&lt;code&gt;rx_text&lt;/code&gt; å±æ€§ è¿”å›ä¸€ä¸ª &lt;code&gt;Observable&lt;/code&gt; å¯¹è±¡ ï¼Œè¿™ä¸ªå®ä¾‹çš„æ—¶å€™å†çœ‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;Observable&lt;/code&gt;ç›¸å½“äºä¸€ä¸ªè¢«è§‚å¯Ÿçš„å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶åºåˆ—ï¼Œè®¢é˜…è€…å¯ä»¥è®¢é˜…ä»–æ£€æµ‹äº‹ä»¶(Next \ Complete \ Error)&lt;br&gt;
    
    </summary>
    
      <category term="RxSwift" scheme="http://yoursite.com/categories/RxSwift/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
      <category term="RxSwift" scheme="http://yoursite.com/tags/RxSwift/"/>
    
      <category term="Swift" scheme="http://yoursite.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>RxSwift ç®€ä»‹</title>
    <link href="http://yoursite.com/2016/08/16/RxSwift(%E4%B8%80)-%E7%AE%80%E4%BB%8B/"/>
    <id>http://yoursite.com/2016/08/16/RxSwift(ä¸€)-ç®€ä»‹/</id>
    <published>2016-08-16T08:42:31.000Z</published>
    <updated>2016-08-16T13:25:47.690Z</updated>
    
    <content type="html"><![CDATA[<hr>
<blockquote>
<p>æœ¬æ–‡å¤§å¤šæ•°å†…å®¹æ¥è‡ªRxSwifté¡¹ç›®ä¸­çš„<em>Rx.playground</em> , ä¸ªäººå­¦ä¹ è®°å½• ã€‚ä»…ä¾›å‚è€ƒï¼Œæœ‰ä»»ä½•é”™è¯¯ï¼Œè¯·åŠæ—¶æŒ‡å‡ºã€‚</p>
</blockquote>
<h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p><strong>æ¯ä¸ª<code>Observable</code>å®ä¾‹éƒ½æ˜¯ä¸€ä¸ªsequence.</strong></p>
<p><code>Observable</code> sequence çš„å…³é”®ç‚¹åœ¨ <code>SequenceType</code> ï¼Œ è€Œä¸”å®ƒå¯ä»¥å¼‚æ­¥è·å–å…ƒç´  ã€‚ è¿™ä¸ªæ˜¯<em>RxSwift</em>çš„æ ¹æœ¬ï¼Œå…¶ä»–çš„éƒ½æ˜¯å»ºç«‹åœ¨è¿™ä¸ªæ¦‚å¿µä¹‹ä¸Šçš„ã€‚<br><a id="more"></a></p>
<ul>
<li>ä¸€ä¸ª<code>Observable(ObservableType)</code> ç­‰ä»·äº <code>SequenceType</code></li>
<li><code>ObservableType.subscribe(_:)</code> æ–¹æ³•ç­‰ä»·äº <code>SequenceType.generate()</code>ã€‚</li>
<li><code>ObservableType.subscribe(_:)</code> éœ€è¦ä¸€ä¸ªè§‚å¯Ÿè€…(<code>ObserverType</code>) å‚æ•°ï¼Œè¿™æ ·å°†è‡ªåŠ¨æ¥æ”¶sequenceäº‹ä»¶ï¼Œ<br>é€šè¿‡ç›‘å¬è‡ªåŠ¨å…ƒç´ è€Œä¸ç”¨æ‰‹åŠ¨è°ƒç”¨<code>next()</code>ã€‚</li>
</ul>
<p>å¦‚æœä¸€ä¸ª <code>Observable</code> (è¿™é‡ŒæŒ‡çš„æ˜¯å¯è§‚å¯Ÿçš„å¯¹è±¡ ä¿¡å·æº) æ‰‹åŠ¨è°ƒç”¨Nextäº‹ä»¶ (<code>Event.Next(Element)</code>) , å®ƒå¯ä»¥é“¾å¼çš„è°ƒç”¨æ›´å¤šçš„äº‹ä»¶ ï¼Œå¦‚æœ<code>Observable</code><br>è°ƒç”¨äº†Erroräº‹ä»¶(<code>Event.Error(ErrorType)</code>) æˆ–è€… Completedäº‹ä»¶(<code>Event.Completed</code>) , <code>Observable</code> sequence å°†ä¸èƒ½ç»§ç»­é“¾å¼è°ƒç”¨ã€‚</p>
<p>Sequence è¯­æ³•ç®€è¦è§£é‡Šï¼š</p>
<p><big><code>Next* (Error | Completed)?</code></big> <br></p>
<p><big><code>--1--2--3--4--5--6--|----&gt;</code></big>  // â€œ|â€ = æ­£å¸¸ç»ˆæ­¢ <br></p>
<p><big><code>--a--b--c--d--e--f--X----&gt;</code></big>  // â€œXâ€ = å‡ºé”™ç»ˆæ­¢ <br></p>
<p><big><code>--tap--tap----------tap--&gt;</code></big>  // â€œ|â€ = æŒç»­æ€§äº‹ä»¶,btnçš„ä¸€ç³»åˆ—ç‚¹å‡»</p>
<h4 id="Observables-and-observers-è§‚å¯Ÿå¯¹è±¡å’Œè§‚å¯Ÿè€…"><a href="#Observables-and-observers-è§‚å¯Ÿå¯¹è±¡å’Œè§‚å¯Ÿè€…" class="headerlink" title="Observables and observers (è§‚å¯Ÿå¯¹è±¡å’Œè§‚å¯Ÿè€…)"></a>Observables and observers (è§‚å¯Ÿå¯¹è±¡å’Œè§‚å¯Ÿè€…)</h4><p><code>Observables</code>å¦‚æœæ²¡æœ‰è§‚å¯Ÿè€…ï¼ˆè®¢é˜…è€…ï¼‰ï¼Œå®ƒçš„äº‹ä»¶é—­åŒ…å°†ä¸ä¼šæ‰§è¡Œã€‚å¦‚ä¸‹ä¾‹å­ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="number">_</span> = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create &#123; observerOfString -&gt; <span class="type">Disposable</span> <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"This will never be printed"</span>)</div><div class="line">        observerOfString.on(.<span class="type">Next</span>(<span class="string">"ğŸ˜¬"</span>))</div><div class="line">        observerOfString.on(.<span class="type">Completed</span>)</div><div class="line">        <span class="keyword">return</span> <span class="type">NopDisposable</span>.instance</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œè¿™æ®µä»£ç  ï¼Œé‡Œé¢çš„å†…å®¹å¹¶ä¸ä¼šæ‰§è¡Œã€‚å‰é¢åŠ <code>_ =</code>æ˜¯å› ä¸ºRxSwift ä¼šè­¦å‘Šè¿”å›å€¼æ²¡æœ‰ä½¿ç”¨ã€‚</p>
<p>çœ‹ä¸‹é¢çš„ä¾‹å­<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">_</span> = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create &#123; observerOfString -&gt; <span class="type">Disposable</span> <span class="keyword">in</span></div><div class="line">            <span class="built_in">print</span>(<span class="string">"è¿™ä¸ªå°†ä¼šæ‰§è¡Œ"</span>)</div><div class="line">            observerOfString.on(.<span class="type">Next</span>(<span class="string">"ğŸ˜¬"</span>))</div><div class="line">            observerOfString.on(.<span class="type">Completed</span>)</div><div class="line">            <span class="keyword">return</span> <span class="type">NopDisposable</span>.instance</div><div class="line">            &#125;.subscribe &#123; (event) <span class="keyword">in</span> <span class="comment">// è§‚å¯Ÿè€…</span></div><div class="line">                <span class="built_in">print</span>(event)</div><div class="line">        &#125;</div></pre></td></tr></table></figure></p>
<p>æ·»åŠ äº†è¿™ä¸ª<code>subscribe</code>è§‚å¯Ÿè€…ï¼Œè¿™æ®µä»£ç æ‰§è¡Œä¼šæ‰“å°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">è¿™ä¸ªå°†ä¼šæ‰§è¡Œ</div><div class="line">Next(ğŸ˜¬)</div><div class="line">Completed</div></pre></td></tr></table></figure></p>
<blockquote>
<p><code>subscribe(_:)</code>è¿”å›ä¸€ä¸ª<code>Disposable</code>å¯¹è±¡ä»£è¡¨ä¸€ä¸ªä¸€æ¬¡æ€§èµ„æºä¾‹å¦‚è®¢é˜…è€…ã€‚ ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¿½ç•¥äº†è¿”å›å€¼ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ˜¯éœ€è¦å¤„ç†çš„ï¼Œ<br>ä¸€èˆ¬æƒ…å†µä¸‹ä¼šæŠŠå®ƒæ·»åŠ åˆ°ä¸€ä¸ª<code>DisposeBag</code>å¯¹è±¡ä¸­ï¼Œåé¢çš„ç« èŠ‚ä¼šæ›´å¤šçš„ä»‹ç»ã€‚</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡å¤§å¤šæ•°å†…å®¹æ¥è‡ªRxSwifté¡¹ç›®ä¸­çš„&lt;em&gt;Rx.playground&lt;/em&gt; , ä¸ªäººå­¦ä¹ è®°å½• ã€‚ä»…ä¾›å‚è€ƒï¼Œæœ‰ä»»ä½•é”™è¯¯ï¼Œè¯·åŠæ—¶æŒ‡å‡ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚å¿µ&quot;&gt;&lt;/a&gt;æ¦‚å¿µ&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;æ¯ä¸ª&lt;code&gt;Observable&lt;/code&gt;å®ä¾‹éƒ½æ˜¯ä¸€ä¸ªsequence.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Observable&lt;/code&gt; sequence çš„å…³é”®ç‚¹åœ¨ &lt;code&gt;SequenceType&lt;/code&gt; ï¼Œ è€Œä¸”å®ƒå¯ä»¥å¼‚æ­¥è·å–å…ƒç´  ã€‚ è¿™ä¸ªæ˜¯&lt;em&gt;RxSwift&lt;/em&gt;çš„æ ¹æœ¬ï¼Œå…¶ä»–çš„éƒ½æ˜¯å»ºç«‹åœ¨è¿™ä¸ªæ¦‚å¿µä¹‹ä¸Šçš„ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="RxSwift" scheme="http://yoursite.com/categories/RxSwift/"/>
    
    
      <category term="iOS" scheme="http://yoursite.com/tags/iOS/"/>
    
      <category term="RxSwift" scheme="http://yoursite.com/tags/RxSwift/"/>
    
      <category term="Swift" scheme="http://yoursite.com/tags/Swift/"/>
    
  </entry>
  
</feed>
